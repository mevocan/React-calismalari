{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nconst useFetch = function (url) {\n  _s();\n  let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [options, setOptions] = useState(null);\n  const postData = data => {\n    setOptions({\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const res = await fetch(url, {\n          ...options\n        });\n        if (!res.ok) {\n          throw new Error(res.statusText);\n        }\n        const data = await res.json();\n        setIsLoading(false);\n        setData(data);\n      } catch (err) {\n        setIsLoading(false);\n        setError(\"hata\");\n        console.log(err.message);\n      }\n    };\n    if (method == \"GET\") {\n      fetchData();\n    }\n    if (method == \"POST\" && options) {\n      fetchData(options);\n    }\n  }, [url, options, method]);\n  return {\n    data,\n    isLoading,\n    error\n  };\n};\n_s(useFetch, \"uq6tJCWAnWGh3Nv3ehMfU85/ceE=\");\nexport default useFetch;","map":{"version":3,"names":["useEffect","useState","useFetch","url","_s","method","arguments","length","undefined","data","setData","error","setError","isLoading","setIsLoading","options","setOptions","postData","headers","body","JSON","stringify","fetchData","res","fetch","ok","Error","statusText","json","err","console","log","message"],"sources":["C:/Users/mevlu/Desktop/yemek-tarifleri/src/hooks/useFetch.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\n\r\nconst useFetch = (url,method=\"GET\") => {\r\n    const [data,setData] =useState(null)\r\n    const [error,setError] = useState(null)\r\n    const [isLoading,setIsLoading] = useState(false)\r\n    const [options,setOptions]=useState(null)\r\n\r\n    const postData = (data) =>{\r\n        setOptions({\r\n            method:\"POST\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify(data)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n          const fetchData =async () =>{\r\n            setIsLoading(true)\r\n            try{\r\n            const res = await fetch(url,{...options})\r\n            if(!res.ok){\r\n                throw new Error(res.statusText)\r\n            }\r\n            const data = await res.json();\r\n            setIsLoading(false)\r\n            setData(data)\r\n            }\r\n            catch(err){\r\n                setIsLoading(false)\r\n                setError(\"hata\")\r\n                console.log(err.message)\r\n            }\r\n        }\r\n\r\n        if(method==\"GET\"){\r\n            fetchData()\r\n        }\r\n        if(method == \"POST\" && options){\r\n            fetchData(options)\r\n        }\r\n\r\n      },[url,options,method])\r\n\r\n      return{\r\n        data,isLoading,error\r\n    }\r\n    }\r\n    \r\nexport default useFetch"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,MAAMC,QAAQ,GAAG,SAAAA,CAACC,GAAG,EAAkB;EAAAC,EAAA;EAAA,IAAjBC,MAAM,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,KAAK;EAC9B,MAAM,CAACG,IAAI,EAACC,OAAO,CAAC,GAAET,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAACU,KAAK,EAACC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACvC,MAAM,CAACY,SAAS,EAACC,YAAY,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAChD,MAAM,CAACc,OAAO,EAACC,UAAU,CAAC,GAACf,QAAQ,CAAC,IAAI,CAAC;EAEzC,MAAMgB,QAAQ,GAAIR,IAAI,IAAI;IACtBO,UAAU,CAAC;MACPX,MAAM,EAAC,MAAM;MACba,OAAO,EAAC;QACJ,cAAc,EAAC;MACnB,CAAC;MACDC,IAAI,EAACC,IAAI,CAACC,SAAS,CAACZ,IAAI;IAC5B,CAAC,CAAC;EACN,CAAC;EAEDT,SAAS,CAAC,MAAI;IACR,MAAMsB,SAAS,GAAE,MAAAA,CAAA,KAAW;MAC1BR,YAAY,CAAC,IAAI,CAAC;MAClB,IAAG;QACH,MAAMS,GAAG,GAAG,MAAMC,KAAK,CAACrB,GAAG,EAAC;UAAC,GAAGY;QAAO,CAAC,CAAC;QACzC,IAAG,CAACQ,GAAG,CAACE,EAAE,EAAC;UACP,MAAM,IAAIC,KAAK,CAACH,GAAG,CAACI,UAAU,CAAC;QACnC;QACA,MAAMlB,IAAI,GAAG,MAAMc,GAAG,CAACK,IAAI,EAAE;QAC7Bd,YAAY,CAAC,KAAK,CAAC;QACnBJ,OAAO,CAACD,IAAI,CAAC;MACb,CAAC,CACD,OAAMoB,GAAG,EAAC;QACNf,YAAY,CAAC,KAAK,CAAC;QACnBF,QAAQ,CAAC,MAAM,CAAC;QAChBkB,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC;MAC5B;IACJ,CAAC;IAED,IAAG3B,MAAM,IAAE,KAAK,EAAC;MACbiB,SAAS,EAAE;IACf;IACA,IAAGjB,MAAM,IAAI,MAAM,IAAIU,OAAO,EAAC;MAC3BO,SAAS,CAACP,OAAO,CAAC;IACtB;EAEF,CAAC,EAAC,CAACZ,GAAG,EAACY,OAAO,EAACV,MAAM,CAAC,CAAC;EAEvB,OAAM;IACJI,IAAI;IAACI,SAAS;IAACF;EACnB,CAAC;AACD,CAAC;AAAAP,EAAA,CA/CCF,QAAQ;AAiDd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}